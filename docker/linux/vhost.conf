<VirtualHost *:80>
    ServerName localhost
    DocumentRoot /var/www/html/sc/public

    <Directory /var/www/html/sc/public>
        AllowOverride None
        Require all granted
        Options -Indexes +FollowSymLinks
    </Directory>

    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} -f [OR]
    RewriteCond %{REQUEST_FILENAME} -d
    RewriteRule ^ - [END]
    RewriteCond %{REQUEST_URI} \.(?:png|jpe?g|gif|webp|svg|ico|css|js|map|woff2?|ttf|eot|mp4|webm|pdf)$ [NC]
    RewriteRule ^ - [END]
    RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]

    ErrorLog  /dev/null
    CustomLog /dev/null combined
</VirtualHost>

<VirtualHost *:443>
    ServerName localhost
    DocumentRoot /var/www/html/sc/public

    <Directory /var/www/html/sc/public>
        AllowOverride All
        Require all granted
        Options -Indexes +FollowSymLinks
        DirectoryIndex index.php
    </Directory>

    SSLEngine on
    SSLCertificateFile      /etc/apache2/ssl/localhost.crt
    SSLCertificateKeyFile   /etc/apache2/ssl/localhost.key

    Protocols h2 http/1.1
    Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains" env=HTTPS

    ErrorLog  /dev/null
    CustomLog /dev/null combined
</VirtualHost>
